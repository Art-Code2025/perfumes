<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø§ÙØ¨Ø§Ø±</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; background: #f8f6ea; }
        .navbar { background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px; }
        .category-btn { 
            background: #f8f6ea; 
            border: 1px solid #ccc; 
            padding: 10px 20px; 
            margin: 5px; 
            border-radius: 10px; 
            cursor: pointer;
            transition: all 0.3s;
        }
        .category-btn:hover { 
            background: #e8e6da; 
            transform: scale(1.05);
        }
        .test-results { 
            background: white; 
            padding: 20px; 
            border-radius: 10px; 
            margin: 10px 0;
        }
    </style>
</head>
<body>
    <div class="navbar">
        <h2>ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø§ÙØ¨Ø§Ø±</h2>
        <div id="categories-container">
            <p>Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª...</p>
        </div>
    </div>
    
    <div class="test-results">
        <h3>ğŸ” Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±:</h3>
        <div id="test-output"></div>
    </div>

    <script>
        const output = document.getElementById('test-output');
        const categoriesContainer = document.getElementById('categories-container');
        
        function log(message) {
            output.innerHTML += `<p>${new Date().toLocaleTimeString()}: ${message}</p>`;
        }
        
        async function testNavbar() {
            try {
                log('ğŸ”„ Ø¨Ø¯Ø¡ Ø§Ø®ØªØ¨Ø§Ø± Ø§Ù„Ù†Ø§ÙØ¨Ø§Ø±...');
                
                // Test API
                const response = await fetch('http://localhost:3001/api/categories');
                if (!response.ok) throw new Error('API ØºÙŠØ± Ù…ØªØ§Ø­');
                
                const categories = await response.json();
                log(`âœ… ØªÙ… Ø¬Ù„Ø¨ ${categories.length} ØªØµÙ†ÙŠÙ Ù…Ù† API`);
                
                // Create buttons
                categoriesContainer.innerHTML = '';
                categories.forEach((category, index) => {
                    const button = document.createElement('button');
                    button.className = 'category-btn';
                    button.textContent = category.name;
                    button.id = `test-category-${category.id}`;
                    
                    // Special handling for Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ
                    if (category.name === 'Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ') {
                        button.style.backgroundColor = '#ffcccc';
                        button.style.border = '3px solid red';
                        button.style.fontWeight = 'bold';
                        button.style.zIndex = '999';
                        button.style.position = 'relative';
                        button.style.pointerEvents = 'auto';
                        log(`ğŸ”§ Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ button created with ID: ${button.id}`);
                    }
                    
                    button.onclick = (e) => {
                        e.preventDefault();
                        e.stopPropagation();
                        log(`ğŸ”— ØªÙ… Ø§Ù„Ù†Ù‚Ø± Ø¹Ù„Ù‰: ${category.name} (ID: ${category.id})`);
                        
                        if (category.name === 'Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ') {
                            log('ğŸ¯ Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ ÙŠØ¹Ù…Ù„ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­!');
                            log(`ğŸ”§ Button element: ${e.target.tagName}`);
                            log(`ğŸ”§ Button ID: ${e.target.id}`);
                            log(`ğŸ”§ Button classes: ${e.target.className}`);
                            
                            // Test direct navigation
                            const testUrl = `/category/${category.id}`;
                            log(`ğŸ”— Ù…Ø­Ø§ÙˆÙ„Ø© Ø§Ù„ØªÙ†Ù‚Ù„ Ø¥Ù„Ù‰: ${testUrl}`);
                            
                            // Simulate real app behavior
                            log('âœ… Ø§Ù„Ù†Ù‚Ø± ØªÙ… Ø¨Ù†Ø¬Ø§Ø­ Ø¹Ù„Ù‰ Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ!');
                        }
                    };
                    
                    // Add event listeners for debugging
                    button.addEventListener('mouseenter', () => {
                        if (category.name === 'Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ') {
                            log('ğŸ–±ï¸ Ù…Ø¤Ø´Ø± Ø§Ù„ÙØ£Ø±Ø© Ø¹Ù„Ù‰ Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ');
                        }
                    });
                    
                    button.addEventListener('mouseleave', () => {
                        if (category.name === 'Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ') {
                            log('ğŸ–±ï¸ Ù…Ø¤Ø´Ø± Ø§Ù„ÙØ£Ø±Ø© ØºØ§Ø¯Ø± Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ');
                        }
                    });
                    
                    categoriesContainer.appendChild(button);
                });
                
                log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø£Ø²Ø±Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­');
                
                // Test specific category
                const schoolApron = categories.find(c => c.name === 'Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ');
                if (schoolApron) {
                    log(`ğŸ¯ ÙˆØ¬Ø¯ Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ - ID: ${schoolApron.id}`);
                    
                    // Additional DOM test
                    setTimeout(() => {
                        const button = document.getElementById(`test-category-${schoolApron.id}`);
                        if (button) {
                            log(`ğŸ”§ Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ button found in DOM`);
                            log(`ğŸ”§ Button visible: ${button.offsetHeight > 0}`);
                            log(`ğŸ”§ Button clickable: ${button.style.pointerEvents !== 'none'}`);
                            
                            // Force test click
                            button.style.backgroundColor = '#00ff00';
                            log('ğŸ”§ ØªØºÙŠÙŠØ± Ù„ÙˆÙ† Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ Ø¥Ù„Ù‰ Ø£Ø®Ø¶Ø± Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±');
                        } else {
                            log('âŒ Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ button not found in DOM!');
                        }
                    }, 1000);
                } else {
                    log('âŒ Ù„Ù… ÙŠØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø±ÙŠÙˆÙ„ Ù…Ø¯Ø±Ø³ÙŠ');
                }
                
            } catch (error) {
                log(`âŒ Ø®Ø·Ø£: ${error.message}`);
            }
        }
        
        // Start test
        testNavbar();
    </script>
</body>
</html> 